(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{300:function(e,t,a){},312:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n,r,i,c,s,o,l,u,d,j,b,p,h=a(15),m=a(336),O=a(337),x="/",f="/login",g="/forgot",v="/reset",y="/signup",w="/account",k="/portfolio",S="/asset",_="/watchlists",I="/report",T="/explore",P="/leaderboard",C="/compare",A="/top-additions",L="/advanced-search",E=a(22),F=function(e,t){switch(t.type){case"LOGIN":return Object(E.a)(Object(E.a)({},e),{},{isLoggedIn:!0,accessToken:t.payload.accessToken,refreshToken:t.payload.refreshToken,userId:t.payload.userId,searchParams:{currentPage:1,queryParams:"",cachedData:void 0}});case"LOGOUT":return Object(E.a)(Object(E.a)({},e),{},{isLoggedIn:!1,accessToken:"",refreshToken:"",userId:void 0,searchParams:{currentPage:1,queryParams:"",cachedData:void 0}});case"REFRESH_TOKEN":return Object(E.a)(Object(E.a)({},e),{},{accessToken:t.payload.accessToken});case"ADV_SEARCH/UPDATE":return Object(E.a)(Object(E.a)({},e),{},{searchParams:Object(E.a)({},t.payload)});default:return e}},N=a(0),R=a.n(N),M=a(1),B={state:{isLoggedIn:!1,accessToken:"",refreshToken:"",searchParams:{currentPage:1,queryParams:"",cachedData:void 0},userId:void 0},dispatch:function(e){}},D=Object(N.createContext)(B),V=D.Provider,U="ROCKETMAVEN_REACT_STORE",G=function(e){var t=e.children,a=localStorage.getItem(U),n=a?JSON.parse(a):null,r=Object(N.useReducer)(F,n||B.state),i=Object(h.a)(r,2),c=i[0],s=i[1];return Object(N.useEffect)((function(){localStorage.setItem(U,JSON.stringify(c))}),[c]),Object(M.jsx)(V,{value:{state:c,dispatch:s},children:t})},q={BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"South Korea",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},H={USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"}},K=function(){var e=Object(N.useContext)(D),t=e.state,a=e.dispatch;return{isLoggedIn:t.isLoggedIn,accessToken:t.accessToken,refreshToken:t.refreshToken,userId:t.userId,dispatch:a}},J=function(){return Object(N.useContext)(D).state.userId},z=function(){return Object(N.useContext)(D).state.isLoggedIn},W=function(){return Object.entries(q).sort((function(e,t){return e[1]>t[1]?1:e[1]<t[1]?-1:0}))},Y=a(32),X=a(33),Z=Object(X.a)(n||(n=Object(Y.a)(["\n  margin-bottom: 3rem;\n"]))),Q=(X.b.div(r||(r=Object(Y.a)(["\n  ",";\n"])),Z),X.b.h1(i||(i=Object(Y.a)(["\n  margin: 0 0 2rem;\n  font-weight: 500;\n"])))),$=X.b.h2(c||(c=Object(Y.a)(["\n  margin: 0 0 1.5rem;\n  font-weight: 300;\n"]))),ee=X.b.span(s||(s=Object(Y.a)(["\n  margin: 0;\n  font-size: 1rem;\n  line-height: 2.5rem;\n  ",";\n  ",";\n"])),(function(e){return e.color&&Object(X.a)(o||(o=Object(Y.a)(["\n      color: ","\n    "])),e.color)}),(function(e){return e.bold&&Object(X.a)(l||(l=Object(Y.a)(["\n      font-weight: 700;\n    "])))})),te=(Object(X.b)(ee)(u||(u=Object(Y.a)(["\n  color: red;\n  line-height: 1rem;\n"]))),X.b.span(d||(d=Object(Y.a)(["\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n"]))),Object(X.b)(ee)(j||(j=Object(Y.a)(["\n  ",";\n"])),Z),Object(X.b)((function(e){var t=e.children,a=e.className,n=e.href,r=e.target,i=e.rel;return Object(M.jsx)("a",{className:a,href:n,target:r,rel:i,children:t})}))(b||(b=Object(Y.a)(["\n  color: #61dafb;\n"]))),a(16)),ae=a.n(te),ne=a(25),re=a(211),ie=a(185),ce=a(151),se=a(27),oe=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,i,c,s,o,l,u,d,j,b,p,h;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.accessToken,n=t.revalidateAccessToken,r=t.setData,i=t.setIsLoading,c=t.url,s=t.isLoggedIn,o=t.method,l=void 0===o?"GET":o,u=t.values,d=t.redirectPath,j=t.routerObject,b=t.dispatch,e.prev=1,i(!0),!(s&&a&&Object(ce.a)(a))){e.next=6;break}return e.next=6,n();case 6:return e.next=8,fetch(c,{method:l,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:u?JSON.stringify(u):void 0});case 8:return p=e.sent,e.next=11,p.json();case 11:if(h=e.sent,p.ok){e.next=16;break}if(!h.msg){e.next=15;break}throw Error(h.msg);case 15:throw Error("Request failed - ".concat(p.statusText));case 16:return r&&r(h),i(!1),d&&j&&j.push(d),e.abrupt("return",h);case 22:throw e.prev=22,e.t0=e.catch(1),r&&r({}),i(!1),"Token has been revoked"===e.t0.message&&(b({type:"LOGOUT"}),j.push("/")),e.t0;case 28:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e,t){var a=Object(N.useState)({}),n=Object(h.a)(a,2),r=n[0],i=n[1],c=Object(N.useState)(!0),s=Object(h.a)(c,2),o=s[0],l=s[1],u=de(),d=u.accessToken,j=u.revalidateAccessToken,b=u.dispatch,p=z(),m=Object(se.g)();return Object(N.useEffect)((function(){(function(){var t=Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe({accessToken:d,revalidateAccessToken:j,setData:i,isLoading:o,setIsLoading:l,isLoggedIn:p,url:e,dispatch:b,routerObject:m});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),re.b.error(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}})()()}),[t]),{data:r,isLoading:o}},ue=function(e,t,a){var n=Object(N.useState)(!1),r=Object(h.a)(n,2),i=r[0],c=r[1],s=de(),o=s.accessToken,l=s.revalidateAccessToken,u=s.dispatch,d=z(),j=Object(se.g)();return{isLoading:i,myFetch:function(){var n=Object(ne.a)(ae.a.mark((function n(r){var s;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,oe({accessToken:o,revalidateAccessToken:l,isLoading:i,setIsLoading:c,isLoggedIn:d,url:e,routerObject:j,redirectPath:a,method:t,values:r,dispatch:u});case 3:return s=n.sent,n.abrupt("return",s);case 7:n.prev=7,n.t0=n.catch(0),re.b.error(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}},de=function(){var e=K(),t=e.accessToken,a=e.refreshToken,n=e.dispatch,r=Object(se.g)();return{accessToken:t,revalidateAccessToken:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("************************token refresh in progress"),!Object(ce.a)(a)){e.next=4;break}throw Error("Refresh token expired");case 4:return e.next=6,fetch("/auth/refresh",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 6:if((t=e.sent).ok){e.next=9;break}throw Error("Not logged in, now logging out!");case 9:return e.next=11,t.json();case 11:i=e.sent,console.log("************************token refresh successfull"),n({type:"REFRESH_TOKEN",payload:{accessToken:i.access_token}}),e.next=22;break;case 16:throw e.prev=16,e.t0=e.catch(0),re.b.error(e.t0.message),n({type:"LOGOUT"}),r.push(x),Error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),dispatch:n}},je=function(e,t){var a=J();a||(a=0);var n="/api/v1/investors/".concat(a).concat(e);return le(n,t)},be=function(e){var t="/api/v1/portfolios/".concat(e);return le(t)},pe=function(e){var t="/api/v1/portfolios/".concat(e,"/history"),a=le(t);return{data:a.data,isLoading:a.isLoading}},he=function(){var e=function(e){var t=Object(N.useState)({}),a=Object(h.a)(t,2),n=a[0],r=a[1],i=Object(N.useState)(!1),c=Object(h.a)(i,2),s=c[0],o=c[1],l=de(),u=l.accessToken,d=l.revalidateAccessToken,j=l.dispatch,b=z(),p=Object(se.g)();return{data:n,isLoading:s,myFetch:function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe({accessToken:u,revalidateAccessToken:d,setData:r,isLoading:s,setIsLoading:o,isLoggedIn:b,url:e+(a||""),dispatch:j,routerObject:p});case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),re.b.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}("api/v1/explore");return{data:e.data,isLoading:e.isLoading,myFetch:e.myFetch}},me=function(e){var t="/auth/login";"REGISTER"===e&&(t="/api/v1/investors");var a=K().dispatch,n=ue(t,"POST").myFetch,r=Object(se.g)();return function(){var e=Object(ne.a)(ae.a.mark((function e(t){var i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:i=e.sent,a({type:"LOGIN",payload:{accessToken:i.access_token,refreshToken:i.refresh_token,userId:Object(ie.a)(i.access_token).sub}}),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),re.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Oe=function(){var e=J();return ue("/api/v1/investors/".concat(e),"PUT",w).myFetch},xe=function(e){return ue("/api/v1/portfolios/".concat(e,"/history"),"POST",k).myFetch},fe=a(322),ge=Object(X.b)(fe.a)(p||(p=Object(Y.a)(["\n  width: 800px;\n  margin: 20px;\n  float: left;\n  box-shadow: 0 0 20px rgb(0 0 0 / 5%);\n"]))),ve=a(329),ye=a(317),we=a(49),ke=a(35),Se=a(19),_e=function(e){var t=e.investor;return Object(M.jsx)(N.Fragment,{children:Object(M.jsxs)(ge,{style:{width:"600px",marginTop:"30px",marginBottom:"30px"},children:[Object(M.jsxs)(ve.b,{size:"small",column:1,bordered:!0,children:[Object(M.jsx)(ve.b.Item,{label:"Username",children:t.username}),Object(M.jsx)(ve.b.Item,{label:"Email",children:t.email}),Object(M.jsx)(ve.b.Item,{label:"First Name",children:t.first_name?t.first_name:""}),Object(M.jsx)(ve.b.Item,{label:"Last Name",children:t.last_name?t.last_name:""}),Object(M.jsx)(ve.b.Item,{label:"Gender",children:t.gender?t.gender:""}),Object(M.jsx)(ve.b.Item,{label:"Country",children:t.country_of_residency?t.country_of_residency:""}),Object(M.jsx)(ve.b.Item,{label:"Date of Birth",children:t.date_of_birth?t.date_of_birth:""}),Object(M.jsx)(ve.b.Item,{label:"Join Date",children:t.join_date?t.join_date:""}),Object(M.jsx)(ve.b.Item,{label:"Profile Visibility",children:t.visibility?"Public":"Private"})]}),Object(M.jsx)(ye.a,{children:"Edit"}),Object(M.jsx)(we.a,{type:"primary",danger:!0,style:{marginRight:"8px",marginBottom:"12px"},children:Object(M.jsxs)(Se.b,{to:w+"/personal",children:[Object(M.jsx)(ke.d,{})," Edit Personal Details"]})}),Object(M.jsx)(we.a,{type:"primary",danger:!0,style:{marginRight:"8px",marginBottom:"12px"},children:Object(M.jsxs)(Se.b,{to:w+"/security",children:[Object(M.jsx)(ke.c,{})," Edit Security"]})})]})})},Ie=a(323),Te=function(){var e=je(""),t=e.data,a=e.isLoading;return t&&!Object(Ie.a)(t)?a?null:Object(M.jsx)(_e,{investor:t.investor}):null},Pe=a(324),Ce=a(328),Ae=function(){return Object(M.jsx)(Pe.a.Item,{label:"Date of Birth",name:"date_of_birth",initialValue:"",rules:[{required:!1},function(){return{validator:function(e,t){return!t||0==t.length||/^\d{4}-([0]\d|1[0-2])-([0-2]\d|3[01])$/.test(t)?Promise.resolve():Promise.reject(new Error("Please make sure the date is of the format XXXX-XX-XX"))}}}],children:Object(M.jsx)(Ce.a,{})})},Le=a(114),Ee=function(e){var t=e.investorData,a=W(),n=Oe(),r=a.find((function(e){return t.investor.country_of_residency===e[1]}));return Object(M.jsxs)(N.Fragment,{children:[Object(M.jsx)($,{children:"Account Edit"}),Object(M.jsx)(ge,{children:Object(M.jsxs)(Pe.a,{name:"account_personal_info",className:"account-personal-info",initialValues:Object(E.a)(Object(E.a)({},t.investor),{},{country_of_residency:r?r[0]:""}),onFinish:function(e){n(Object(E.a)({},e))},children:[Object(M.jsx)(Pe.a.Item,{name:"username",label:"Username",rules:[{required:!0}],children:Object(M.jsx)(Ce.a,{})}),Object(M.jsx)(Pe.a.Item,{name:"first_name",label:"First Name",children:Object(M.jsx)(Ce.a,{})}),Object(M.jsx)(Pe.a.Item,{name:"last_name",label:"Last Name",children:Object(M.jsx)(Ce.a,{})}),Object(M.jsx)(Pe.a.Item,{label:"Country of Residency",name:"country_of_residency",rules:[{required:!0,message:"Please select a country"}],children:Object(M.jsx)(Le.a,{showSearch:!0,children:a.map((function(e,t){var a=Object(h.a)(e,2),n=a[0],r=a[1];return Object(M.jsx)(Le.a.Option,{value:n,children:r})}))})}),Object(M.jsx)(Ae,{}),Object(M.jsx)(Pe.a.Item,{style:{textAlign:"center"},children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",style:{marginRight:"8px",marginBottom:"12px"},children:"Save"})})]})})]})},Fe=function(){var e=je(""),t=e.data;return e.isLoading?null:Object(M.jsx)(Ee,{investorData:t})};function Ne(e){return Promise.reject(new Error(e))}"~`!@#$%^&*()_+-=[]\\{}|:\";'<>?,./".split("");var Re,Me,Be,De,Ve,Ue,Ge,qe,He,Ke,Je=function(e){return Object(M.jsx)(Pe.a.Item,{label:e.label?e.label:"Password",name:"password",rules:[{required:!0,message:"Please input a password!"},function(){return{validator:function(e,t){return t?t.length<12?Ne("Password cannot be less than 12 characters"):/[A-Z]/.test(t)?/[a-z]/.test(t)?Promise.resolve():Ne("Password must contain at least one lowercase letter"):Ne("Password must contain at least one capital letter"):Ne("Cannot have an empty password")}}}],children:Object(M.jsx)(Ce.a.Password,{})})},ze=function(e){var t=e.investorData,a=Oe();return Object(M.jsxs)(N.Fragment,{children:[Object(M.jsx)($,{children:"Security Edit"}),Object(M.jsx)(ge,{title:"Change Password",children:Object(M.jsxs)(Pe.a,{name:"account_security_info",className:"account-security-info",initialValues:Object(E.a)({},t.investor),onFinish:function(e){a(Object(E.a)(Object(E.a)({},e),{},{confirm:void 0}))},children:[Object(M.jsx)(Je,{label:"New Password"}),Object(M.jsx)(Pe.a.Item,{name:"confirm",label:"Confirm New Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your new password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(M.jsx)(Ce.a.Password,{})}),Object(M.jsx)(Pe.a.Item,{style:{textAlign:"center"},children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",style:{marginRight:"8px",marginBottom:"12px"},children:"Save"})})]})})]})},We=function(){var e=je(""),t=e.data;return e.isLoading?null:Object(M.jsx)(ze,{investorData:t})},Ye=X.b.div(Re||(Re=Object(Y.a)(["\n  display: flex;\n\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n    'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background: #fafbfc;\n\n  @media print {\n    font-family: sans-serif;\n  }\n"]))),Xe=X.b.div(Me||(Me=Object(Y.a)(["\n  flex-grow: 1;\n  min-height: 100vh;\n  overflow: auto;\n"]))),Ze=a(318),Qe=a(71),$e=Ze.a.Header,et=Ze.a.Content,tt=Ze.a.Sider,at=X.b.div(Be||(Be=Object(Y.a)(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  min-height: 280px;\n  padding: 24px;\n  background: #fafbfc;\n"]))),nt=Object(X.b)(tt)(De||(De=Object(Y.a)(["\n  min-height: 100vh;\n  min-width: ","px;\n  max-width: ","px;\n  background-color: white;\n"])),200,200),rt=Object(X.b)(Qe.a.Item)(Ve||(Ve=Object(Y.a)(["\n  ",":not(.ant-layout-sider-collapsed) & {\n    margin: 1rem 2rem;\n    border-radius: 12px;\n  }\n  ",".ant-layout-sider-collapsed & {\n    padding-left: 32px !important;\n  }\n"])),nt,nt),it=Object(X.b)(Qe.a)(Ue||(Ue=Object(Y.a)(["\n  min-height: 100vh;\n  position: fixed;\n  overflow-x: hidden;\n"]))),ct=X.b.div(Ge||(Ge=Object(Y.a)(["\n  height: ","px;\n  margin-bottom: 2rem;\n"])),80),st=Object(X.b)($e)(qe||(qe=Object(Y.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 999;\n  ",'[data-collapsed="false"] & {\n    margin-left: ',"px;\n  }\n  ",'[data-collapsed="true"] & {\n    margin-left: 80px;\n  }\n  background: white;\n  height: ',"px;\n  line-height: ","px !important;\n"])),Xe,200,Xe,84,84),ot=Object(X.b)(et)(He||(He=Object(Y.a)(["\n  margin-top: ","px;\n  min-height: 80vh;\n  @media print {\n    min-height: 50vh;\n  }\n"])),84),lt=Object(X.b)(ge)(Ke||(Ke=Object(Y.a)(["\n  background: #fafbfc;\n  width: 100%;\n  padding-right: 24px;\n\n  @media print {\n    display: none;\n  }\n"]))),ut=function(e){var t=e.children;return Object(M.jsxs)(at,{children:[Object(M.jsx)(ot,{className:"site-layout",children:t}),Object(M.jsx)("footer",{children:Object(M.jsx)(lt,{style:{textAlign:"center"},children:"Rocket Maven \xa92021"})})]})},dt=function(){return Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Account"}),Object(M.jsxs)(se.d,{children:[Object(M.jsx)(se.b,{exact:!0,path:w,component:Te}),Object(M.jsx)(se.b,{path:w+"/personal",component:Fe}),Object(M.jsx)(se.b,{path:w+"/security",component:We})]})]})},jt=a(64),bt=a(141),pt=a(319),ht=[{title:"Ticker",dataIndex:"ticker_symbol",render:function(e){return Object(M.jsx)(Se.b,{to:"/asset/".concat(e),style:{marginRight:"8px",marginBottom:"12px"},children:e})},width:"10%"},{title:"Name",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e);if(!t)return null;var a=t.longName;return a?Object(M.jsx)("div",{children:a}):null},width:"20%"},{title:"Price",dataIndex:"current_price",width:"5%"},{title:"Change",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e);if(!t)return null;var a=t.regularMarketChange;return a?Object(M.jsx)("div",{children:a.fmt}):null},width:"5%"},{title:"Market Cap",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e);if(!t)return null;var a=t.marketCap;return a?Object(M.jsx)("div",{children:a.fmt}):null},width:"10%"},{title:"52-Week High",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e);if(!t)return null;var a=t.fiftyTwoWeekHigh;return a?Object(M.jsx)("div",{children:a.fmt}):null},width:"10%"},{title:"52-Week Low",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e);if(!t)return null;var a=t.fiftyTwoWeekLow;return a?Object(M.jsx)("div",{children:a.fmt}):null},width:"10%"},{title:"Country",dataIndex:"country",width:"10%"},{title:"Industry",dataIndex:"industry"}];var mt=Object(se.j)((function(){var e=new URLSearchParams(Object(se.h)().search),t=Object(se.g)(),a=Pe.a.useForm(),n=Object(h.a)(a,1)[0],r=function(){var e=Object(N.useContext)(D),t=e.state,a=e.dispatch,n=t.searchParams;return{currentPage:n.currentPage,queryParams:n.queryParams,cachedData:n.cachedData,dispatch:a}}(),i=r.currentPage,c=r.queryParams,s=r.cachedData,o=r.dispatch,l=he(),u=l.data,d=(l.isLoading,l.myFetch),j=Object(Ie.a)(u)?s:u;Object(N.useEffect)((function(){e.get("q")&&e.get("q")!==n.getFieldValue("textInput")&&(n.setFieldsValue({textInput:e.get("q")}),b(n.getFieldsValue()))}),[e]);var b=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?page=1&per_page=".concat(10),n="",t.textInput&&(n+="&q=".concat(t.textInput)),t.industryInput&&(n+="&industry=".concat(t.industryInput)),t.exchangeInput&&(n+="&exchange=".concat(t.exchangeInput.join(","))),t.order&&(n+="&order=".concat(t.order)),t.order_direction&&(n+="&order_direction=".concat(t.order_direction)),e.next=9,d(a+n);case 9:r=e.sent,o({type:"ADV_SEARCH/UPDATE",payload:{currentPage:1,queryParams:n,cachedData:r}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?page=".concat(t.current,"&per_page=").concat(10,"&"),e.next=3,d(a+c);case 3:n=e.sent,o({type:"ADV_SEARCH/UPDATE",payload:{currentPage:t.current,queryParams:c,cachedData:n}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m="market_cap",O="desc";return Object(M.jsx)(ut,{children:Object(M.jsxs)(jt.a,{style:{height:"100vh"},children:[Object(M.jsx)("h1",{children:"Advanced Assets Search"}),Object(M.jsxs)(Pe.a,{name:"advancedSearch",className:"advanced-search-form",initialValues:{remember:!0},onFinish:b,form:n,children:[Object(M.jsx)(Pe.a.Item,{name:"textInput",children:Object(M.jsx)(Ce.a,{placeholder:"Asset or ticker name",onChange:function(){e.has("q")&&e.delete("q"),t.replace({search:e.toString()})}})}),Object(M.jsx)(Pe.a.Item,{name:"exchangeInput",children:Object(M.jsxs)(Le.a,{mode:"multiple",placeholder:"Exchange",children:[Object(M.jsx)(Le.a.Option,{value:"ASX",children:"ASX"}),Object(M.jsx)(Le.a.Option,{value:"CRYPTO",children:"CRYPTO"}),Object(M.jsx)(Le.a.Option,{value:"NASDAQ",children:"NASDAQ"}),Object(M.jsx)(Le.a.Option,{value:"NYSE",children:"NYSE"})]})}),Object(M.jsx)(Pe.a.Item,{name:"industryInput",children:Object(M.jsx)(Ce.a,{placeholder:"Industry Name"})}),Object(M.jsx)(Pe.a.Item,{label:"Order By",name:"order",initialValue:m,children:Object(M.jsx)(bt.a.Group,{options:[{label:"Market Cap.",value:"market_cap"},{label:"Name",value:"name"},{label:"Ticker",value:"ticker"}],defaultValue:m,value:m,optionType:"button",buttonStyle:"solid"})}),Object(M.jsx)(Pe.a.Item,{label:"Order Direction",name:"order_direction",initialValue:O,children:Object(M.jsx)(bt.a.Group,{options:[{label:"Ascending [A-Z, 0-9]",value:"asc"},{label:"Descending [Z-A, 9-0]",value:"desc"}],defaultValue:O,value:O,optionType:"button",buttonStyle:"solid"})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",children:"Search"})})]}),Object(Ie.a)(j)||!j?null:Object(M.jsx)(ge,{title:"Search Results",style:{width:"90%",overflowX:"auto"},children:Object(M.jsx)(pt.a,{columns:ht,dataSource:j.results,rowKey:"id",style:{marginBottom:"4rem"},pagination:{total:j.total,showSizeChanger:!1,pageSize:10,current:i},onChange:p})})]})})})),Ot=(a(298),a(299),a(50)),xt=a.n(Ot),ft=a(193),gt=a.n(ft),vt=a(128),yt=a.n(vt),wt=a(194),kt=a.n(wt),St=a(195),_t=a.n(St),It=a(196),Tt=a.n(It),Pt=a(197),Ct=a.n(Pt),At=a(198),Lt=a.n(At),Et=a(199),Ft=a.n(Et),Nt=a(200),Rt=a.n(Nt),Mt=a(201),Bt=a.n(Mt),Dt=a(202),Vt=a.n(Dt),Ut=a(203),Gt=a.n(Ut),qt=a(204),Ht=a.n(qt);a(300);yt()(xt.a),kt()(xt.a),_t()(xt.a),Gt()(xt.a),Tt()(xt.a),Ct()(xt.a),Lt()(xt.a),Ft()(xt.a),Rt()(xt.a),Bt()(xt.a),Vt()(xt.a),Ht()(xt.a);var Kt=function(e){return e.options.navigation={iconsURL:"/third-party/highcharts/gfx/stock-icons/"},"customType"in e&&"stock"==e.customType&&(e.options.stockTools={gui:{enabled:!0}}),"customType"in e&&"pie"==e.customType&&(e.options.stockTools={gui:{enabled:!1}}),Object(M.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(M.jsx)(gt.a,Object(E.a)({highcharts:xt.a,containerProps:{style:{width:"100%",height:"70vh"}}},e))})},Jt=a(103),zt=a(325),Wt=a(69),Yt=a(214),Xt=Le.a.Option,Zt=function(e){return e<0?"red":"green"},Qt=function(){var e=Object(se.i)().ticker_symbol,t=null,a=null,n=Object(N.useState)(null),r=Object(h.a)(n,2),i=r[0],c=r[1];!function(e,t){Object(N.useEffect)((function(){!function(){var a=Object(ne.a)(ae.a.mark((function a(){var n,r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("/api/v1".concat(e),{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=a.sent,a.next=6,n.json();case 6:if(r=a.sent,n.ok){a.next=11;break}if(!r.msg){a.next=10;break}throw Error(r.msg);case 10:throw Error("".concat(n.status));case 11:t(r),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),re.b.error(a.t0.message),t({});case 18:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(){return a.apply(this,arguments)}}()()}),[])}("/assets/".concat(e),c);var s=Object(N.useState)(null),o=Object(h.a)(s,2),l=o[0],u=o[1],d=Object(N.useState)(),j=Object(h.a)(d,2),b=j[0],p=j[1],m=Object(N.useState)(null),O=Object(h.a)(m,2),x=O[0],f=O[1],g=Object(N.useState)("monthly"),v=Object(h.a)(g,2),y=v[0],w=v[1];if(i&&!Object(Ie.a)(i)&&i.asset.asset_additional){var S=JSON.parse(i.asset.asset_additional);console.log(S);var I=[["Current Market",!1,i.asset.current_price]];[["Change",!0,S.regularMarketChange],["Market Cap",!1,S.marketCap],["Volume",!1,S.regularMarketVolume],["PE",!1,S.trailingPE],["Yield",!1,S.trailingAnnualDividendRate],["EPS",!1,S.epsTrailingTwelveMonths]].forEach((function(e){e[2]&&e[2].fmt&&I.push([e[0],e[1],e[2].fmt])})),t=Object(M.jsx)(ge,{title:i.asset.name,children:Object(M.jsx)(Jt.a,{gutter:16,children:I.map((function(e){return Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:e[0],value:e[2],precision:2,valueStyle:{color:e[1]?Zt(e[2]):"initial"}})})}))})})}if(l&&!Object(Ie.a)(l)){var T=[[Date.UTC(2e3,1,1,1,1),null,null,null,null]],P=[];l.results.forEach((function(e){T.push([1e3*e.timestamp,e.open,e.high,e.low,e.close]),P.push([1e3*e.timestamp,e.volume])}));var C={title:{text:"".concat(e," Tracker")},yAxis:[{labels:{align:"left"},height:"80%",resize:{enabled:!0}},{labels:{align:"left"},top:"80%",height:"20%",offset:0}],rangeSelector:{buttons:[{type:"hour",count:1,text:"1h"},{type:"day",type_full:"daily",count:1,text:"1d"},{type:"week",type_full:"weekly",count:1,text:"1w"},{type:"month",type_full:"monthly",count:1,text:"1m"},{type:"year",type_full:"yearly",count:1,text:"1y"}],inputEnabled:!1,selected:-1},xAxis:{events:{afterSetExtremes:function(e){var t=e.target.chart;t.showLoading("Loading data from server..."),p(t),"undefined"!==typeof e.rangeSelectorButton&&e.rangeSelectorButton.type_full&&y!==e.rangeSelectorButton.type_full?w(e.rangeSelectorButton.type_full):t.hideLoading()}},minRange:36e5},tooltip:{shape:"square",headerShape:"callout",borderWidth:0,valueDecimals:2,shadow:!1,positioner:function(e,t,a){var n=this.chart;return a.isHeader?{x:Math.max(n.plotLeft,Math.min(a.plotX+n.plotLeft-e/2,n.chartWidth-e-n.marginRight)),y:a.plotY}:{x:a.series.chart.plotLeft,y:a.series.yAxis.top-n.plotTop}}},series:x};a=Object(M.jsx)(ge,{children:Object(M.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(M.jsx)(Kt,{customType:"stock",constructorType:"stockChart",options:C})})})}var A=z(),L=Object(se.g)(),E=K(),F=E.accessToken,R=(E.refreshToken,E.dispatch,function(){var t=Object(ne.a)(ae.a.mark((function t(){var a,n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!A){t.next=10;break}return t.next=3,fetch("/api/v1/watchlist/".concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(F)}});case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,a.ok){t.next=9;break}throw Error("".concat(n.msg));case 9:L.push(_);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),B=Object(N.useState)([]),D=Object(h.a)(B,2),V=D[0],U=D[1],G=Object(N.useState)(0),q=Object(h.a)(G,2),H=q[0],J=(q[1],je("/all_portfolios",H).data);return Object(N.useEffect)((function(){if(J&&!Object(Ie.a)(J)){var e=[],t=J.results.map((function(t){return e.push(t.id),Object(M.jsxs)(Xt,{value:t.id,children:["#",t.id," - ",t.name]},t.id)}));U(t)}}),[J]),Object(N.useEffect)((function(){var t="/chart/".concat(y,"/").concat(e);(function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1".concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:if(a=e.sent,console.log("*********************** status is",a.status),a.ok){e.next=7;break}throw Error("".concat(a.status));case 7:return e.next=9,a.json();case 9:n=e.sent,u(n),b&&b.hideLoading(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),re.b.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[y]),Object(N.useEffect)((function(){l&&!Object(Ie.a)(l)&&f([{type:"candlestick",data:T,name:"".concat(e," Price"),dataGrouping:{enabled:!1}},{type:"column",id:"aapl-volume",name:"".concat(e," Volume"),data:P,yAxis:1,dataGrouping:{enabled:!1}}])}),[l]),Object(M.jsxs)("div",{children:[Object(M.jsxs)($,{children:[e," ",A?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Add to Watchlist",arrowPointAtCenter:!0,children:Object(M.jsx)(we.a,{onClick:R,style:{marginLeft:"0.5rem"},children:Object(M.jsx)(ke.i,{})})}),Object(M.jsx)(Yt.a,{title:"Add to Portfolio",trigger:"click",placement:"bottom",content:Object(M.jsxs)(Pe.a,{onFinish:function(t){console.log(t,e),L.push({pathname:"".concat(k,"/").concat(t.portfolio,"/addremove"),search:"?stock_ticker=".concat(e,"&current_price=").concat(null===i||void 0===i?void 0:i.asset.current_price,"&holdings=1000000"),state:{update:!0}})},children:[Object(M.jsx)(Pe.a.Item,{label:"Portfolio",name:"portfolio",rules:[{required:!0}],children:Object(M.jsx)(Le.a,{placeholder:"Please select",style:{width:"100%"},children:V})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(we.a,{type:"primary",style:{marginLeft:"0.5rem",marginRight:"0.5rem"},htmlType:"submit",children:"Add"})})]}),children:Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Add to Portfolio",arrowPointAtCenter:!0,children:Object(M.jsx)(we.a,{style:{marginLeft:"0.5rem"},children:Object(M.jsx)(ke.h,{})})})})]}):null]}),t,a]})},$t=function(){return Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Asset"}),Object(M.jsx)(se.d,{children:Object(M.jsx)(se.b,{path:S+"/:ticker_symbol/",component:Qt})})]})},ea=a(85),ta=a(150),aa=a(192),na=a(97),ra=a.n(na);function ia(e){var t=e.fetchOptions,a=e.debounceTimeout,n=void 0===a?800:a,r=Object(ta.a)(e,["fetchOptions","debounceTimeout"]),i=Object(N.useState)(!1),c=Object(h.a)(i,2),s=c[0],o=c[1],l=Object(N.useState)([]),u=Object(h.a)(l,2),d=u[0],j=u[1],b=Object(N.useRef)(0),p=Object(N.useMemo)((function(){return ra()((function(e){b.current+=1;var a=b.current;j([]),o(!0),t(e).then((function(e){a===b.current&&(j(e),o(!1))}))}),n)}),[t,n]);return Object(M.jsx)(Le.a,Object(E.a)(Object(E.a)({labelInValue:!0,filterOption:!1,onSearch:p,notFoundContent:s?Object(M.jsx)(aa.a,{size:"small"}):null},r),{},{options:d}))}function ca(e){return sa.apply(this,arguments)}function sa(){return(sa=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/v1/assets/search?q=".concat(t,"&per_page=10")).then((function(e){return e.json()})).then((function(e){return e&&!Object(Ie.a)(e)&&e.hasOwnProperty("results")?e.results.map((function(e){return{key:e.ticker_symbol,value:e.ticker_symbol,label:Object(M.jsx)("span",{title:e.current_price.toString(),children:e.ticker_symbol+" | "+e.name})}})):[]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oa,la=function(e){return Object(M.jsx)(ia,Object(E.a)({placeholder:"Search Asset",fetchOptions:ca},e))},ua=Object(X.b)(we.a)(oa||(oa=Object(Y.a)(["\n  margin-right: 8px;\n  margin-bottom: 12px;\n"]))),da=[{type:"hour",count:1,text:"1h"},{type:"day",type_full:"daily",count:1,text:"1d"},{type:"week",type_full:"weekly",count:1,text:"1w"},{type:"month",type_full:"monthly",count:1,text:"1m"},{type:"year",type_full:"yearly",count:1,text:"1y"}],ja=function(e){var t=e.graphData,a=e.tickers,n=e.afterSetExtremes,r=e.seriesContext;if(!t||Object(Ie.a)(t)||t.length!==a.length)return null;var i=function(e){var t=e.seriesContext,a=e.tmpSeriesData,n=e.afterSetExtremes;return{boost:{useGPUTranslations:!0,seriesThreshold:1},title:{text:"Comparer"},yAxis:[{type:"logarithmic",labels:{align:"left"},height:"80%",resize:{enabled:!0}},{labels:{align:"left"},top:"80%",height:"20%",offset:0}],rangeSelector:{allButtonsEnabled:!0,buttons:da,inputEnabled:!1,selected:da.findIndex((function(e){return e.type_full==t}))},xAxis:{events:{afterSetExtremes:n},minRange:36e5},tooltip:{shape:"square",headerShape:"callout",borderWidth:0,valueDecimals:2,shadow:!1,positioner:function(e,t,a){var n=this.chart;return a.isHeader?{x:Math.max(n.plotLeft,Math.min(a.plotX+n.plotLeft-e/2,n.chartWidth-e-n.marginRight)),y:a.plotY}:{x:a.series.chart.plotLeft,y:a.series.yAxis.top-n.plotTop}}},series:a}}({seriesContext:r,tmpSeriesData:function(e){var t=[],a=[];e.forEach((function(e){var n=[];n.push([Date.UTC((new Date).getFullYear()-2,1,1,1,1),null,null,null,null]);var r=[];e[1].results.forEach((function(e){n.push([1e3*e.timestamp,e.open,e.high,e.low,e.close]),r.push([1e3*e.timestamp,e.volume])})),t.push([e[0],n]),a.push([e[0],r])}));var n=[];return t.forEach((function(e){n.push({type:"candlestick",data:e[1],id:"".concat(e[0],"-price"),name:"".concat(e[0]," Price"),dataGrouping:{enabled:!1}})})),a.forEach((function(e){n.push({type:"column",id:"".concat(e[0],"-volume"),name:"".concat(e[0]," Volume"),data:e[1],yAxis:1,dataGrouping:{enabled:!0}})})),n}(t),afterSetExtremes:n});return Object(M.jsx)(ge,{children:Object(M.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(M.jsx)(Kt,{customType:"stock",constructorType:"stockChart",options:i})})})},ba=function(){var e=Object(N.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(N.useState)([]),i=Object(h.a)(r,2),c=i[0],s=i[1],o=Object(N.useState)(),l=Object(h.a)(o,2),u=l[0],d=l[1],j=Object(N.useState)("monthly"),b=Object(h.a)(j,2),p=b[0],m=b[1],O=function(){var e=Object(N.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=de(),i=r.accessToken,c=r.revalidateAccessToken,s=r.dispatch,o=Object(se.g)();return function(){var e=Object(ne.a)(ae.a.mark((function e(t){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=oe({accessToken:i,revalidateAccessToken:c,isLoading:a,setIsLoading:n,url:"/api/v1/".concat(t),dispatch:s,routerObject:o}),e.abrupt("return",r);case 5:return e.prev=5,e.t0=e.catch(0),re.b.error(e.t0.message),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}(),x=function(e,t,a){return function(n){var r=n.target.chart;r.showLoading("Loading data from server..."),e(r),"undefined"!==typeof n.rangeSelectorButton&&n.rangeSelectorButton.type_full&&t!==n.rangeSelectorButton.type_full?a(n.rangeSelectorButton.type_full):r.hideLoading()}}(d,p,m),f=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.asset_id.map((function(e){return e.value})),re.b.info("Now comparing: ".concat(a)),s(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.useEffect)((function(){var e=[];c.forEach((function(t){(function(){var a=Object(ne.a)(ae.a.mark((function a(){var r,i;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="chart/".concat(p,"/").concat(t),a.next=3,O(r);case 3:(i=a.sent)&&(e=[].concat(Object(ea.a)(e),[[t,i]])).length===c.length&&(n(e),u&&u.hideLoading());case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}))}),[p,c]),Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Compare Assets"}),Object(M.jsx)(ge,{title:"Asset Selection",children:Object(M.jsxs)(Pe.a,{name:"normal_asset",className:"report-form",onFinish:f,children:[Object(M.jsx)(Pe.a.Item,{name:"asset_id",label:"Ticker (EXCHANGE:SYMBOL)",initialValue:[{key:"NASDAQ:AAPL",value:"NASDAQ:AAPL"},{key:"NASDAQ:MSFT",value:"NASDAQ:MSFT"}],rules:[{required:!0,message:"Please input two tickers!"},function(e){e.getFieldValue;return{validator:function(e,t){return t.length>1?Promise.resolve():Promise.reject(new Error("Please input two or more tickers!"))}}}],children:Object(M.jsx)(la,{mode:"multiple",showSearch:!0,style:{width:"100%"}})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(ua,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"Compare"})})]})}),Object(M.jsx)(ja,{graphData:a,tickers:c,afterSetExtremes:x,seriesContext:p})]})},pa=function(){return Object(M.jsx)(ut,{children:Object(M.jsx)(Jt.a,{justify:"center",style:{minHeight:"100vh"},children:Object(M.jsxs)(jt.a,{style:{height:"100vh"},children:[Object(M.jsx)("h1",{children:"Explore Rocket Maven"}),Object(M.jsx)(Jt.a,{style:{marginBottom:"0.5rem"},children:Object(M.jsx)(we.a,{type:"primary",children:Object(M.jsxs)(Se.b,{to:L,children:[Object(M.jsx)(ke.j,{})," Advanced Assets Search"]})})}),Object(M.jsx)(Jt.a,{style:{marginBottom:"0.5rem"},children:Object(M.jsx)(we.a,{type:"primary",children:Object(M.jsxs)(Se.b,{to:P,children:[Object(M.jsx)(ke.n,{})," Portfolio Competition Leaderboard"]})})}),Object(M.jsx)(Jt.a,{style:{marginBottom:"0.5rem"},children:Object(M.jsx)(we.a,{type:"primary",children:Object(M.jsxs)(Se.b,{to:A,children:[Object(M.jsx)(ke.f,{})," Top Additions"]})})}),Object(M.jsx)(Jt.a,{style:{marginBottom:"0.5rem"},children:Object(M.jsx)(we.a,{type:"primary",children:Object(M.jsxs)(Se.b,{to:C,children:[Object(M.jsx)(ke.a,{})," Compare Assets"]})})})]})})})},ha=a(331),ma=function(){var e=function(){var e=ue("/api/v1/iforgot","POST");return{isLoading:e.isLoading,myFetch:e.myFetch}}(),t=e.isLoading,a=e.myFetch;return Object(M.jsx)(ut,{children:Object(M.jsx)(ge,{children:Object(M.jsxs)(Pe.a,{name:"normal_login",className:"forgot-form",initialValues:{remember:!0},onFinish:a,children:[Object(M.jsx)(Pe.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(M.jsx)(Ce.a,{prefix:Object(M.jsx)(ha.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},disabled:t,loading:t,children:"Reset Password"})})]})})})},Oa=a(332),xa=(a(312),function(){var e=Object(N.useState)(null),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(N.useState)(null),i=Object(h.a)(r,2),c=i[0],s=i[1],o=Object(N.useState)(null),l=Object(h.a)(o,2),u=l[0],d=l[1];!function(e,t){var a=Object(N.useState)(!0),n=Object(h.a)(a,2),r=n[0],i=n[1],c=de(),s=c.accessToken,o=c.revalidateAccessToken,l=z();Object(N.useEffect)((function(){!function(){var a=Object(ne.a)(ae.a.mark((function a(){var n,r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,i(!0),!l||!Object(ce.a)(s)){a.next=5;break}return a.next=5,o();case 5:return a.next=7,fetch("/api/v1".concat(e),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 7:return n=a.sent,console.log("*********************** status is",n.status),a.next=11,n.json();case 11:if(r=a.sent,n.ok){a.next=16;break}if(!r.msg){a.next=15;break}throw Error(r.msg);case 15:throw Error("".concat(n.status));case 16:t(r),i(!1),a.next=25;break;case 20:a.prev=20,a.t0=a.catch(0),re.b.error(a.t0.message),t({}),i(!1);case 25:case"end":return a.stop()}}),a,null,[[0,20]])})));return function(){return a.apply(this,arguments)}}()()}),[])}("/leaderboard",n);var j=function(e,t){var a=parseFloat(e).toFixed(2);return{props:{style:{color:parseFloat(e)<0?"red":"green"}},children:Object(M.jsx)("span",{children:a})}},b=J(),p=[{title:"Rank",dataIndex:"Rank",render:function(e){var t=null;return 1===e&&(t=Object(M.jsx)(Oa.a,{})),Object(M.jsxs)("span",{children:[t," ",e]})}},{title:"Investor",dataIndex:"Investor",render:function(e,t){console.log(e);var a=e.username;return e.first_name&&(a=e.first_name,e.last_name&&(a+=" "+e.last_name)),{children:Object(M.jsx)("span",{children:a})}}},{title:"Score",dataIndex:"Score"},{title:"Purchase Cost",dataIndex:"Purchase Cost"},{title:Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Market - Purchase",arrowPointAtCenter:!0,children:Object(M.jsx)("span",{style:{textDecoration:"underline dotted"},children:"Unrealised"})}),dataIndex:"Unrealised",render:j},{title:Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Sold Value",arrowPointAtCenter:!0,children:Object(M.jsx)("span",{style:{textDecoration:"underline dotted"},children:"Realised"})}),dataIndex:"Realised (Sold Value)",render:j},{title:"Explore",dataIndex:"View Portfolio",render:function(e,t){return(e||t.Investor&&t.Investor.id===b)&&0!=e?Object(M.jsx)(Se.b,{to:k+"/"+e,children:"View Portfolio"}):Object(M.jsx)(M.Fragment,{children:"Private Portfolio"})}}],m=function(e){return{Rank:e.rank,Investor:e.investor,Score:e.competition_score.toFixed(2),"Buying Power":e.buying_power.toFixed(2),"Current Market":e.current_value_sum.toFixed(2),"Purchase Cost":e.purchase_value_sum.toFixed(2),Unrealised:e.current_value_sum-e.purchase_value_sum,"Realised (Sold Value)":e.realised_sum,"View Portfolio":e.public_portfolio?e.id:0}};return Object(N.useEffect)((function(){if(a&&!Object(Ie.a)(a)){var e=a[0],t=a[1].results,n=[],r=[];!t||Object(Ie.a)(t)?re.b.error("Leaderboard is empty!"):(e.forEach((function(e){r.push(m(e))})),t.forEach((function(e){n.push(m(e))})),s(n),d(r),n||re.b.error("Leaderboard is empty!"))}}),[a]),Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Competition Leaderboard"}),u&&!Object(Ie.a)(u)?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)($,{children:"Your Rankings"}),Object(M.jsx)(pt.a,{pagination:!1,columns:p,dataSource:u,rowClassName:function(e){switch(!0){case 1===e.Rank:return"rmv-comp-leaderboard-first";default:return""}},rowKey:"id"})]}):null,Object(M.jsx)("br",{}),Object(M.jsx)($,{children:"Top Portfolios"}),Object(M.jsx)(pt.a,{columns:p,dataSource:c,rowClassName:function(e){switch(!0){case 1===e.Rank:return"rmv-comp-leaderboard-first";default:return""}},rowKey:"id"})]})}),fa=a(333),ga=function(){var e=me("LOGIN");return Object(M.jsx)(ut,{children:Object(M.jsx)(ge,{children:Object(M.jsxs)(Pe.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){e(t)},children:[Object(M.jsx)(Pe.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(M.jsx)(Ce.a,{prefix:Object(M.jsx)(ha.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(M.jsx)(Pe.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(M.jsx)(Ce.a,{prefix:Object(M.jsx)(fa.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)("a",{className:"login-form-forgot",href:"/forgot",children:"Forgot password"})}),Object(M.jsxs)(Pe.a.Item,{children:[Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"Log in"}),"Or ",Object(M.jsx)(Se.b,{to:y,children:"register now!"})]})]})})})},va={labelCol:{span:6},wrapperCol:{span:18}},ya={wrapperCol:{offset:6,span:18}},wa=function(){var e=ue("/api/v1/pw_reset","POST","/").myFetch,t=function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new URLSearchParams(window.location.search),a.evc=n.get("key"),e(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Enter New Password"}),Object(M.jsx)(ge,{children:Object(M.jsxs)(Pe.a,Object(E.a)(Object(E.a)({},va),{},{name:"basic",initialValues:{remember:!0},onFinish:t,children:[Object(M.jsx)(Je,{}),Object(M.jsx)(Pe.a.Item,{name:"confirmation",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(M.jsx)(Ce.a.Password,{})}),Object(M.jsx)(Pe.a.Item,{label:"Username",style:{display:"none"},children:Object(M.jsx)(Ce.a,{type:"text"})}),Object(M.jsx)(Pe.a.Item,Object(E.a)(Object(E.a)({},ya),{},{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",children:"Reset Password"})}))]}))})]})},ka=function(){var e=Object(se.i)(),t=e.id,a=e.hid;console.log({id:t,hid:a});var n=pe(t),r=n.isLoading,i=n.data,c=null;if(i&&!Object(Ie.a)(i)){var s=i.results.filter((function(e){return e.asset_id===a}));c=Object(M.jsx)(pt.a,{columns:[{title:"Type",dataIndex:"add_action",render:function(e){return e?"Add":"Remove"}},{title:"Event ID",dataIndex:"id"},{title:"Ticker",dataIndex:"asset_id"},{title:"Date",dataIndex:"event_date"},{title:"Fees",dataIndex:"fees"},{title:"Units",dataIndex:"units"},{title:"Price Per Unit",dataIndex:"price_per_share",render:function(e){return e.toFixed(2)}},{title:"Note",dataIndex:"note"}],dataSource:s,rowKey:"id"})}return r?null:Object(M.jsxs)(N.Fragment,{children:[Object(M.jsxs)($,{children:["Holding History for ",Object(M.jsx)(Se.b,{to:"/asset/".concat(a),children:a})]}),c]})},Sa=a(216),_a=a(334),Ia=a(321),Ta={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:16}}},Pa=function(e){var t=e.portfolioId,a=Object(N.useState)([]),n=Object(h.a)(a,2),r=n[0],i=n[1],c=Pe.a.useForm(),s=Object(h.a)(c,1)[0],o=Object(se.g)(),l=de(),u=l.accessToken,d=(l.revalidateAccessToken,"/api/v1/portfolios/".concat(t,"/history")),j=xe(t),b=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,r.forEach((function(e){a.append("files[]",e)})),e.next=4,fetch(d,{method:"POST",headers:{Authorization:"Bearer ".concat(u)},body:a});case 4:return n=e.sent,e.next=7,n.json();case 7:if(i=e.sent,n.ok){e.next=11;break}return re.b.error("".concat(i.msg)),e.abrupt("return");case 11:o.push("/"),console.log("************** values are ",t),j(Object(E.a)({},t));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Sa.a;return Object(M.jsx)(ge,{title:"CSV Upload",children:Object(M.jsxs)(Pe.a,Object(E.a)(Object(E.a)({style:{textAlign:"center"},name:"csv_upload",className:"csv-upload-form",form:s},Ta),{},{onFinish:b,children:[Object(M.jsx)(Pe.a.Item,{name:"dragger",className:"csv-uploader",noStyle:!0,children:Object(M.jsxs)(Ia.a.Dragger,{name:"files",beforeUpload:function(e){return i([].concat(Object(ea.a)(r),[e])),!1},onChange:function(e){"uploading"!==e.file.status&&e.file.status},onRemove:function(e){var t=r.indexOf(e),a=r.slice();a.splice(t,1),i(a)},children:[Object(M.jsx)("p",{className:"ant-upload-drag-icon",children:Object(M.jsx)(_a.a,{})}),Object(M.jsx)("p",{className:"ant-upload-text",children:"Click or drag CSV file to this area to bulk import"}),Object(M.jsx)("p",{className:"ant-upload-hint",children:"Support for mulitple files."})]})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",style:{marginRight:"8px",marginBottom:"12px"},children:"Upload"})})]}))})};function Ca(e){var t=e.fetchOptions,a=e.debounceTimeout,n=void 0===a?800:a,r=Object(ta.a)(e,["fetchOptions","debounceTimeout"]),i=Object(N.useState)(!1),c=Object(h.a)(i,2),s=c[0],o=c[1],l=Object(N.useState)([]),u=Object(h.a)(l,2),d=u[0],j=u[1],b=Object(N.useRef)(0),p=Object(N.useMemo)((function(){return ra()((function(e){b.current+=1;var a=b.current;j([]),o(!0),t(e).then((function(e){a===b.current&&(j(e),o(!1))}))}),n)}),[t,n]);return Object(M.jsx)(Le.a,Object(E.a)(Object(E.a)({labelInValue:!0,filterOption:!1,onSearch:p,notFoundContent:s?Object(M.jsx)(aa.a,{size:"small"}):null},r),{},{options:d}))}var Aa=function(e){var t=K().accessToken;function a(){return(a=Object(ne.a)(ae.a.mark((function a(n){return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",fetch("/api/v1/assets/search/".concat(e.portfolioid,"?q=").concat(n,"&per_page=10"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){if(e&&!Object(Ie.a)(e)&&e.hasOwnProperty("results")){var t=e.results.map((function(e){return{key:e.ticker_symbol,value:e.ticker_symbol,label:Object(M.jsx)("span",{title:e.current_price.toString(),"data-holdings":e.available_units.toString(),children:e.ticker_symbol+" | "+e.name})}}));return console.log(t),t}return[]})));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(M.jsx)(Ca,Object(E.a)({placeholder:"Search Asset",fetchOptions:function(e){return a.apply(this,arguments)}},e))},La=a(327),Ea={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:16}}};var Fa,Na,Ra=Object(se.j)((function(e){var t=e.portfolioId,a=e.portfolioInfo,n=Object(N.useState)(!0),r=Object(h.a)(n,2),i=r[0],c=r[1],s=Object(N.useState)(0),o=Object(h.a)(s,2),l=o[0],u=o[1],d=Object(N.useState)(0),j=Object(h.a)(d,2),b=j[0],p=j[1],m=Object(N.useState)(""),O=Object(h.a)(m,2),x=O[0],f=O[1],g=Object(N.useState)(1),v=Object(h.a)(g,2),y=v[0],w=v[1],k=Pe.a.useForm(),S=Object(h.a)(k,1)[0],_=new URLSearchParams(Object(se.h)().search),I=Object(se.g)(),T={add_action:i,asset_id:"",fees:0,note:"",price_per_share:0,units:1,exchange_rate:1},P=xe(t);Object(N.useEffect)((function(){_.get("stock_ticker")&&_.get("stock_ticker")!==S.getFieldValue("asset_id")&&(S.setFieldsValue({asset_id:{key:_.get("stock_ticker"),value:_.get("stock_ticker")}}),f(_.get("stock_ticker")),_.get("current_price")&&(S.setFieldsValue({price_per_share:parseFloat(_.get("current_price"))}),p(parseFloat(_.get("current_price")))),_.get("holdings")&&u(parseFloat(_.get("holdings"))))}),[_]);var C=function(e){return e<0?"red":"green"};return Object(M.jsx)(ge,{children:Object(M.jsxs)(Pe.a,Object(E.a)(Object(E.a)({name:"normal_assetadd",className:"assetadd-form",form:S,initialValues:Object(E.a)({remember:!0},T)},Ea),{},{onFinish:function(e){e.asset_id=e.asset_id.value,e.add_action=i,P(Object(E.a)({},e))},children:[Object(M.jsx)(Pe.a.Item,{name:"asset_id",label:"Ticker (EXCHANGE:SYMBOL)",rules:[{required:!0,message:"Please input a ticker!"}],children:Object(M.jsx)(Aa,{showSearch:!0,portfolioid:t,onChange:function(e){console.log(e),u(parseFloat(e.label.props["data-holdings"])),p(e.label.props.title),f(e.value),S.setFieldsValue({price_per_share:e.label.props.title})},style:{width:"100%"}})}),a.competition_portfolio?null:Object(M.jsx)(Pe.a.Item,{name:"fees",label:"Fees",rules:[{required:!0}],children:Object(M.jsx)(La.a,{})}),Object(M.jsx)(Pe.a.Item,{name:"units",label:"Units",rules:[{required:!0}],children:Object(M.jsx)(La.a,{min:1,onChange:function(e){return w(e)}})}),a.competition_portfolio?Object(M.jsx)("span",{children:Object(M.jsx)(Pe.a.Item,{name:"price_per_share",label:"Current Value",children:Object(M.jsx)(Ce.a,{disabled:!0})})}):Object(M.jsx)(Pe.a.Item,{name:"price_per_share",label:"Price Per Unit",rules:[{required:!0}],children:Object(M.jsx)(La.a,{onChange:function(e){_.has("current_price")&&_.delete("current_price"),_.has("stock_ticker")&&_.delete("stock_ticker"),_.has("holdings")&&_.delete("holdings"),I.replace({search:_.toString()}),p(e)}})}),Object(M.jsx)(Pe.a.Item,{name:"exchange_rate",label:"Exchange Rate",rules:[{required:!0}],children:Object(M.jsx)(La.a,{})}),Object(M.jsx)(Pe.a.Item,{label:"Update Price Per Share",children:Object(M.jsx)(we.a,{type:"primary",onClick:function(){(function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/assets/".concat(x,"/price"),{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:if((t=e.sent).ok){e.next=6;break}throw Error("".concat(t.status));case 6:return e.next=8,t.json();case 8:a=e.sent,p(a.price),S.setFieldsValue({price_per_share:a.price}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()},danger:!0,style:{marginRight:"8px",marginBottom:"12px"},children:"Get Live Price"})}),Object(M.jsx)(Pe.a.Item,{name:"note",label:"Note",rules:[{required:!1}],children:Object(M.jsx)(Ce.a,{})}),a.competition_portfolio?Object(M.jsxs)(Jt.a,{gutter:16,children:[Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"Buying Power",value:a.buying_power,precision:2})}),Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"Event Value",value:b*y,precision:2})}),Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"New Add Buying Power",value:a.buying_power-b*y,precision:2,valueStyle:{color:C(a.buying_power-b*y)}})}),Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"New Remove Buying Power",value:a.buying_power+b*y,precision:2})})]}):null,Object(M.jsxs)(Jt.a,{gutter:16,children:[Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"Currently Holding",value:l,precision:2})}),Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"Units",value:y||0,precision:2})}),Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"New Add Units",value:l+y,precision:2})}),Object(M.jsx)(jt.a,{span:6,children:Object(M.jsx)(zt.a,{title:"New Remove Units",value:l-y,precision:2,valueStyle:{color:C(l-y)}})})]}),Object(M.jsxs)(Pe.a.Item,{style:{textAlign:"center"},children:[Object(M.jsx)(we.a,{type:"primary",onClick:function(){return c(!0)},htmlType:"submit",style:{marginRight:"8px",marginBottom:"12px"},disabled:a.competition_portfolio&&a.buying_power-b*y<0||y<=0,children:"Add"}),Object(M.jsx)(we.a,{type:"primary",onClick:function(){return c(!1)},htmlType:"submit",danger:!0,style:{marginRight:"8px",marginBottom:"12px"},disabled:l-y<0||y<=0,children:"Remove"})]})]}))})})),Ma=function(){var e=Object(se.i)().id,t=be(e),a=t.data;return t.isLoading?null:Object(M.jsxs)(N.Fragment,{children:[Object(M.jsxs)($,{children:["Event Create for ",a.portfolio.name]}),Object(M.jsx)(Ra,{portfolioId:e,portfolioInfo:a.portfolio}),!a.portfolio.competition_portfolio&&Object(M.jsx)(Pa,{portfolioId:e})]})},Ba=a(330),Da=Le.a.Option,Va=function(e){var t=e.portfolioInfo,a=e.portfolioId,n=e.action,r=W(),i=Object.entries(H).map((function(e){return[e[0],e[1].name_plural]})).sort((function(e,t){return e[1]>t[1]?1:e[1]<t[1]?-1:0})),c=Object(N.useState)(!1),s=Object(h.a)(c,2),o=s[0],l=s[1],u={competition_portfolio:!1,description:"",name:"",tax_residency:"",public_portfolio:!0,creation_date:"",currency:"AUD",id:0},d=["AU","Australia"],j=["AUD","Australian Dollars"];t&&(u=Object(E.a)({},t.portfolio),d=r.find((function(e){return t.portfolio.tax_residency===e[1]})),j=i.find((function(e){return t.portfolio.currency===e[1]})));var b=function(e,t){var a=J(),n="/api/v1/investors/".concat(a,"/portfolios");return"PUT"===e&&(n="/api/v1/portfolios/".concat(t)),ue(n,e,k).myFetch}(t?"PUT":"POST",a);return Object(M.jsx)(ge,{children:Object(M.jsxs)(Pe.a,{name:"portfolio_edit",className:"portfolio-edit-form",initialValues:{remember:!0},onFinish:function(e){console.log(e),b(Object(E.a)(Object(E.a)({},e),{},{id:void 0,creation_date:void 0}))},children:[Object(M.jsx)(Pe.a.Item,{name:"name",initialValue:u.name,label:"Portfolio Name",rules:[{required:!0}],children:Object(M.jsx)(Ce.a,{placeholder:"Name"})}),"Create"==n?Object(M.jsx)(Pe.a.Item,{name:"competition_portfolio",label:"Portfolio Type",rules:[{required:!0}],children:Object(M.jsxs)(Le.a,{onChange:function(e){l("0"!=e)},children:[Object(M.jsx)(Da,{value:"0",children:"Regular Portfolio"}),Object(M.jsx)(Da,{value:"1",children:"Competition Portfolio"})]})}):null,Object(M.jsx)(Pe.a.Item,{name:"description",initialValue:u.description,label:"Description",rules:[{required:!1}],children:Object(M.jsx)(Ce.a,{placeholder:"Description"})}),o||t&&t.portfolio.competition_portfolio?null:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Pe.a.Item,{label:"Tax Residency",name:"tax_residency",initialValue:d[0],rules:[{required:!0,message:"Please select a country"}],children:Object(M.jsx)(Le.a,{showSearch:!0,children:r.map((function(e,t){var a=Object(h.a)(e,2),n=a[0],r=a[1];return Object(M.jsx)(Da,{value:n,children:r})}))})}),"Create"==n?Object(M.jsx)(Pe.a.Item,{label:"Currency",name:"currency",initialValue:j[0],rules:[{required:!0,message:"Please select a currency"}],children:Object(M.jsx)(Le.a,{showSearch:!0,children:i.map((function(e,t){var a=Object(h.a)(e,2),n=a[0],r=a[1];return Object(M.jsx)(Da,{value:n,children:r})}))})}):null]}),Object(M.jsx)(Pe.a.Item,{label:"Public",name:"public_portfolio",initialValue:u.public_portfolio,children:Object(M.jsx)(Ba.a,{defaultChecked:!!u.public_portfolio})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:n||"Edit"})})]})})},Ua=function(){return Object(M.jsxs)(N.Fragment,{children:[Object(M.jsx)($,{children:"Portfolio Creation"}),Object(M.jsx)(Va,{action:"Create"})]})},Ga=a(207),qa=a(335),Ha=a(147),Ka=(X.b.div(Fa||(Fa=Object(Y.a)(["\n  width: calc(100% / 2 - 1rem);\n  margin-bottom: 0;\n"]))),X.b.div(Na||(Na=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n"])))),Ja=a(326),za=a(215),Wa=function(e){var t=e.portfolio,a=e.refreshPortfolios,n=e.singleView,r=void 0!==n&&n,i=(Object(N.useContext)(D).state.userId,Object(se.g)()),c=de(),s=c.accessToken;c.revalidateAccessToken;function o(e){return l.apply(this,arguments)}function l(){return(l=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("title"),n=t.target.getAttribute("aria-valuenow"),i.push("/"),e.next=5,fetch("/api/v1/portfolios/".concat(n,"/holdings"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({asset_id:a})});case 5:return r=e.sent,e.next=8,r.json();case 8:if(c=e.sent,r.ok){e.next=11;break}throw Error("".concat(c.msg));case 11:i.push("/");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=function(e){return e<0?"red":"green"},d=[{title:"Ticker Symbol",key:"asset_id",dataIndex:"asset_id",render:function(e){return Object(M.jsxs)("span",{children:[Object(M.jsx)(Wt.a,{placement:"left",title:"View ".concat(e," details and graph"),arrowPointAtCenter:!0,children:Object(M.jsx)(Se.b,{to:"/asset/".concat(e),style:{marginRight:"8px",marginBottom:"12px"},children:e})}),Object(M.jsx)(Wt.a,{placement:"left",title:"Filter holding history by ".concat(e),arrowPointAtCenter:!0,children:Object(M.jsx)(we.a,{type:"primary",style:{marginRight:"8px",marginBottom:"12px",float:"right"},children:Object(M.jsx)(Se.b,{to:"/portfolio/".concat(t.id,"/holdings/").concat(e),children:"History"})})})]})}},{title:"Available Units",dataIndex:"available_units",render:function(e){return e.toFixed(2)}},{title:"Purchase Price",dataIndex:"average_price",render:function(e){return e.toFixed(2)}},{title:Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Current price of assets based on their market value",arrowPointAtCenter:!0,children:Object(M.jsx)("span",{style:{textDecoration:"underline dotted"},children:"Current Price"})}),dataIndex:"market_price",render:function(e){return e.toFixed(2)}}].concat(Object(ea.a)(r?[{title:"Purchase Value",dataIndex:"purchase_value",render:function(e){return e.toFixed(2)}}]:[]),[{title:"Current Value",dataIndex:"current_value",render:function(e){return e.toFixed(2)}},{title:"Unrealised Profit/Loss",dataIndex:"unrealised_units",render:function(e,t){var a=parseFloat(e).toFixed(2);return{props:{style:{color:u(parseFloat(e))}},children:Object(M.jsx)("span",{children:a})}}}],Object(ea.a)(r?[{title:"Realised Total",dataIndex:"realised_total",render:function(e){return e.toFixed(2)}},{title:"Last Updated",dataIndex:"last_updated"}]:[]),[{title:"Latest Note",dataIndex:"latest_note"}]);t.competition_portfolio||r||d.push({title:"Action",dataIndex:"asset_id",key:"x",render:function(e){return Object(M.jsx)("a",{title:e,"aria-valuenow":t.id,onClick:o,children:"Delete"})}});var j,b={"Current Market":[!1,t.current_value_sum],"Purchase Cost":[!1,t.purchase_value_sum],"Unrealised (Market - Purchase)":[!0,(t.current_value_sum-t.purchase_value_sum).toFixed(2)],"Realised (Sold Value)":[!0,t.realised_sum]},p=!0,h=Object(Ga.a)(t.portfolio_asset_holding);try{for(h.s();!(j=h.n()).done;){if(j.value.available_units>0){p=!1;break}}}catch(x){h.e(x)}finally{h.f()}var m=function(){var e=Object(ne.a)(ae.a.mark((function e(){var n,r,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/api/v1/portfolios/".concat(t.id),e.next=3,fetch(n,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 3:return r=e.sent,e.next=6,r.json();case 6:i=e.sent,r.ok?(re.b.success(i.msg),a()):re.b.error(i.msg);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(M.jsx)("div",{title:t.creation_date,children:Object(M.jsx)(Ja.a,{style:{padding:"0px"},title:r?t.name:Object(M.jsx)(Se.b,{style:{color:"inherit",textDecoration:"underline wavy"},to:k+"/"+t.id,children:t.name}),subTitle:t.description,tags:[t.competition_portfolio?Object(M.jsx)(za.a,{color:"red",children:"Competition"}):Object(M.jsx)(za.a,{color:"blue",children:"Regular"}),t.public_portfolio?Object(M.jsx)(za.a,{color:"red",children:"Public"}):Object(M.jsx)(za.a,{color:"blue",children:"Private"}),Object(M.jsx)(za.a,{color:"blue",children:t.currency})],extra:[p?Object(M.jsx)(we.a,{onClick:m,style:{float:"right"},children:"Delete"}):null]})});return Object(M.jsxs)(ge,{bodyStyle:{paddingTop:"0px"},style:r?{width:"90%",overflowX:"auto",padding:"0px"}:{padding:"0px"},title:O,actions:r?[]:[Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Add New Event",arrowPointAtCenter:!0,children:Object(M.jsx)(Se.b,{to:k+"/".concat(t.id,"/addremove"),children:Object(M.jsx)(Sa.a,{},"edit")})}),Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Edit Portfolio Settings",arrowPointAtCenter:!0,children:Object(M.jsx)(Se.b,{to:k+"/".concat(t.id,"/edit"),children:Object(M.jsx)(qa.a,{},"setting")})}),Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Portfolio Event History",arrowPointAtCenter:!0,children:Object(M.jsx)(Se.b,{to:k+"/".concat(t.id,"/history"),children:Object(M.jsx)(Ha.a,{},"ellipsis")})})],children:[Object(M.jsxs)(ve.b,{column:2,size:"small",bordered:!0,style:{marginBottom:"1rem"},children:[r?Object(M.jsx)(ve.b.Item,{label:"Owner",children:t.investor.username}):null,t.competition_portfolio?Object(M.jsx)(ve.b.Item,{label:"Buying Power",children:t.buying_power.toFixed(2)}):null,Object(M.jsx)(ve.b.Item,{label:"Tax Residency",children:t.tax_residency})]}),Object(M.jsx)(Ka,{children:Object.entries(b).map((function(e){return Object(M.jsx)(zt.a,{title:e[0],value:e[1][1],precision:2,valueStyle:{color:e[1][0]?u(e[1][1]):"initial"}})}))}),t.recommended?Object(M.jsx)(ye.a,{children:"Recommended"}):null,t.recommended?t.recommended.map((function(e){return Object(M.jsx)(Se.b,{to:S+"/"+e[0],children:Object(M.jsx)(za.a,{color:"red",children:e[1]})})})):null,Object(M.jsx)(ye.a,{children:"Holdings"}),Object(M.jsx)(pt.a,{columns:d,dataSource:t.portfolio_asset_holding.filter((function(e){return e.available_units>0})),rowKey:"id"})]})},Ya=function(){var e=Object(se.i)().id,t=Object(N.useState)(0),a=Object(h.a)(t,2),n=a[0],r=a[1],i=function(e){var t="/api/v1/public-portfolios/".concat(e);return le(t)}("".concat(e)),c=i.data,s=i.isLoading,o=Object(Ie.a)(c)?"Portfolio is private or doesn't exist":Object(M.jsx)(Wa,{portfolio:c.portfolio,refreshPortfolios:function(){return r(n+1)},singleView:!0});return s?null:Object(M.jsxs)(N.Fragment,{children:[Object(M.jsx)($,{children:"Portfolio Detail"}),o]})},Xa=function(){var e=Object(se.i)().id,t=be("".concat(e)),a=t.data;return t.isLoading?null:Object(M.jsxs)(N.Fragment,{children:[Object(M.jsx)($,{children:"Portfolio Edit"}),Object(M.jsx)(Va,{portfolioInfo:a,portfolioId:e})]})},Za=function(){var e=Object(se.i)().id,t=pe(e),a=t.isLoading,n=t.data,r=null;if(n&&!Object(Ie.a)(n)){var i=n.results,c=[{title:"Type",dataIndex:"add_action",render:function(e){return e?"Add":"Remove"}},{title:"Event ID",dataIndex:"id"},{title:"Ticker",dataIndex:"asset_id",render:function(t){return Object(M.jsxs)("span",{children:[Object(M.jsx)(Wt.a,{placement:"topLeft",title:"View ".concat(t," details and graph"),arrowPointAtCenter:!0,children:Object(M.jsx)(Se.b,{to:"/asset/".concat(t),style:{marginRight:"8px",marginBottom:"12px"},children:t})}),Object(M.jsx)(Wt.a,{placement:"topLeft",title:"Filter holding history by ".concat(t),arrowPointAtCenter:!0,children:Object(M.jsx)(we.a,{type:"primary",style:{marginRight:"8px",marginBottom:"12px",float:"right"},children:Object(M.jsx)(Se.b,{to:"/portfolio/".concat(e,"/holdings/").concat(t),children:"Filter"})})})]})}},{title:"Date",dataIndex:"event_date"},{title:"Fees",dataIndex:"fees"},{title:"Units",dataIndex:"units"},{title:"Price Per Unit",dataIndex:"price_per_share",render:function(e){return e.toFixed(2)}},{title:"Note",dataIndex:"note"}];r=Object(M.jsx)(pt.a,{columns:c,dataSource:i,rowKey:"id"})}return a?null:Object(M.jsxs)(N.Fragment,{children:[Object(M.jsx)($,{children:"Portfolio History"}),r]})},Qa=function(e){var t=e.portfolioPagination,a=e.refreshPortfolios;if(!t||Object(Ie.a)(t))return null;var n=t.results;return Object(M.jsx)(N.Fragment,{children:n.map((function(e,t){return Object(M.jsx)(Wa,{refreshPortfolios:a,portfolio:e})}))})},$a=function(){var e=Object(N.useState)(0),t=Object(h.a)(e,2),a=t[0],n=t[1],r=je("/portfolios",a),i=r.data;return r.isLoading?null:Object(M.jsxs)(N.Fragment,{children:[Object(M.jsxs)($,{children:["Portfolio List",Object(M.jsx)(we.a,{type:"primary",style:{marginLeft:"20px"},children:Object(M.jsxs)(Se.b,{to:k+"/create",children:[Object(M.jsx)(ke.h,{})," New Portfolio"]})})]}),Object(M.jsx)(Qa,{portfolioPagination:i,refreshPortfolios:function(){return n(a+1)}})]})},en=function(){return Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Portfolio"}),Object(M.jsxs)(se.d,{children:[Object(M.jsx)(se.b,{exact:!0,path:k,component:$a}),Object(M.jsx)(se.b,{path:k+"/create",component:Ua}),Object(M.jsx)(se.b,{path:k+"/:id/edit",component:Xa}),Object(M.jsx)(se.b,{exact:!0,path:k+"/:id/history",component:Za}),Object(M.jsx)(se.b,{path:k+"/:id/addremove",component:Ma}),Object(M.jsx)(se.b,{path:k+"/:id/holdings/:hid",component:ka}),Object(M.jsx)(se.b,{exact:!0,path:k+"/:id",component:Ya})]})]})},tn=a(320),an=a(56),nn=a.n(an),rn=tn.a.RangePicker,cn=Le.a.Option;var sn=function(){var e=new URLSearchParams(Object(se.h)().search),t=K(),a=t.accessToken,n=(t.refreshToken,t.dispatch,R.a.useState([])),r=Object(h.a)(n,2),i=r[0],c=r[1],s=R.a.useState(!1),o=Object(h.a)(s,2),l=o[0],u=o[1],d=R.a.useState(!1),j=Object(h.a)(d,2),b=j[0],p=j[1],m=R.a.useState(""),O=Object(h.a)(m,2),x=O[0],f=O[1],g=R.a.useState({}),v=Object(h.a)(g,2),y=v[0],w=v[1],k=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(t.report_type),t.portfolios=l,e.next=4,fetch("/api/v1/report",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,"Diversification"==t.report_type&&w({chart:{type:"pie"},title:{text:"Diversification"},subtitle:{text:"Portfolios by Industry Diversity"},accessibility:{announceNewData:{enabled:!0},point:{valueSuffix:"%"}},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}: {point.y:.1f}%",distance:-30},showInLegend:!0}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'},series:r.series,drilldown:r.drilldown}),"Realised"==t.report_type&&(console.log(r.series),w({chart:{type:"line"},xAxis:{type:"datetime"},title:{text:"Realised"},subtitle:{text:"Realised Portfolio Values"},series:r.series})),"Tax"==t.report_type&&(console.log(r.series),w({chart:{type:"line"},xAxis:{type:"datetime"},title:{text:"Tax"},subtitle:{text:"Tax Values"},series:r.series}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=[],_="Realised";e.get("prefab"),"year"==e.get("prefab")&&(S=[nn()().subtract(1,"year"),nn()()]),"monthly"==e.get("prefab")&&(S=[nn()().subtract(1,"month"),nn()()]),"trades"==e.get("prefab")&&(_="Trade"),"diversification"==e.get("prefab")&&(_="Diversification"),Object(N.useEffect)((function(){"diversification"==e.get("prefab")&&p(!0)}),[]),"tax"==e.get("prefab")&&(_="Tax");var I=R.a.useState("default"),T=Object(h.a)(I,2),P=(T[0],T[1],Object(N.useState)(0)),C=Object(h.a)(P,2),A=C[0],L=(C[1],je("/all_portfolios",A)),E=L.data;L.isLoading;return Object(N.useEffect)((function(){if(E&&!Object(Ie.a)(E)){var e=[],t=E.results.map((function(t){return e.push(t.id),Object(M.jsxs)(cn,{value:t.id,children:["#",t.id," - ",t.name]},t.id)}));u(e),c(t)}}),[E]),Object(M.jsxs)("div",{children:[Object(M.jsx)(ge,{title:"Generate Report",children:Object(M.jsxs)(Pe.a,{name:"normal_report",className:"report-form",onFinish:k,children:[Object(M.jsx)(Pe.a.Item,{label:"Report Type",name:"report_type",initialValue:_,children:Object(M.jsx)(bt.a.Group,{options:[{label:"Realised",value:"Realised"},{label:"Tax",value:"Tax"},{label:"Diversification",value:"Diversification"}],defaultValue:_,value:_,onChange:function(e){"Diversification"==e.target.value?p(!0):p(!1)},optionType:"button",buttonStyle:"solid"})}),l?Object(M.jsx)(Pe.a.Item,{label:"Portfolios",name:"portfolios",initialValue:l,rules:[{required:!0}],children:Object(M.jsx)(Le.a,{mode:"multiple",placeholder:"Please select",onChange:function(e){console.log("Selected: ".concat(e)),u(e)},style:{width:"100%"},children:i})}):null,b?null:Object(M.jsx)(Pe.a.Item,{label:"Date Range",name:"date_range",initialValue:S,children:Object(M.jsx)(rn,{})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(ua,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"Generate"})})]})}),y&&"Diversification"==x?Object(M.jsx)(ge,{children:Object(M.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(M.jsx)(Kt,{customType:"pie",options:y})})}):null,!y||"Realised"!=x&&"Tax"!=x?null:Object(M.jsx)(ge,{children:Object(M.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(M.jsx)(Kt,{options:y})})})]})},on=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(ge,{title:"Quick Reports",children:[Object(M.jsx)(ua,{type:"primary",children:Object(M.jsx)(Se.b,{to:"/report/builder?prefab=all-time",children:"All-Time Portfolio Comparison"})}),Object(M.jsx)("br",{}),Object(M.jsx)(ua,{type:"primary",children:Object(M.jsx)(Se.b,{to:"/report/builder?prefab=year",children:"Year Portfolio Comparison"})}),Object(M.jsx)("br",{}),Object(M.jsx)(ua,{type:"primary",children:Object(M.jsx)(Se.b,{to:"/report/builder?prefab=monthly",children:"Month Portfolio Comparison"})}),Object(M.jsx)("br",{}),Object(M.jsx)(ua,{type:"primary",children:Object(M.jsx)(Se.b,{to:"/report/builder?prefab=diversification",children:"Diversification"})}),Object(M.jsx)("br",{}),Object(M.jsx)(ua,{type:"primary",children:Object(M.jsx)(Se.b,{to:"/report/builder?prefab=tax",children:"Tax Report"})})]}),Object(M.jsx)(ge,{title:"Custom Reports",children:Object(M.jsx)(ua,{type:"primary",children:Object(M.jsx)(Se.b,{to:"/report/builder",children:"Report Builder"})})})]})},ln=function(){return Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Report"}),Object(M.jsxs)(se.d,{children:[Object(M.jsx)(se.b,{exact:!0,path:I,component:on}),Object(M.jsx)(se.b,{path:I+"/builder",component:sn})]})]})},un={labelCol:{span:6},wrapperCol:{span:18}},dn={wrapperCol:{offset:6,span:18}},jn=function(){var e=me("REGISTER"),t=W(),a=function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={country_of_residency:a.countryOfResidency,date_of_birth:a.date_of_birth,email:a.email,first_name:a.firstName,gender:a.gender,last_name:a.lastName,password:a.password,username:a.username,visibility:!0},e(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(M.jsx)(ut,{children:Object(M.jsx)(ge,{children:Object(M.jsxs)(Pe.a,Object(E.a)(Object(E.a)({},un),{},{name:"basic",initialValues:{remember:!0},onFinish:a,children:[Object(M.jsx)(Pe.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(M.jsx)(Ce.a,{})}),Object(M.jsx)(Pe.a.Item,{label:"First Name",name:"firstName",rules:[{required:!1,message:"Please input your first name!"}],children:Object(M.jsx)(Ce.a,{})}),Object(M.jsx)(Pe.a.Item,{label:"Last Name",name:"lastName",rules:[{required:!1,message:"Please input your last name!"}],children:Object(M.jsx)(Ce.a,{})}),Object(M.jsx)(Pe.a.Item,{name:"email",label:"Email",extra:"Choose wisely, your email cannot be changed!",rules:[{type:"email",message:"The input is not valid email!"},{required:!0,message:"Please input your email!"}],children:Object(M.jsx)(Ce.a,{})}),Object(M.jsx)(Pe.a.Item,{label:"Country of Residency",name:"countryOfResidency",initialValue:"AU",rules:[{required:!0,message:"Please select a country"}],children:Object(M.jsx)(Le.a,{showSearch:!0,children:t.map((function(e,t){var a=Object(h.a)(e,2),n=a[0],r=a[1];return Object(M.jsx)(Le.a.Option,{value:n,children:r})}))})}),Object(M.jsx)(Pe.a.Item,{label:"Gender",name:"gender",rules:[{required:!1,message:"Please select a gender"}],children:Object(M.jsxs)(Le.a,{children:[Object(M.jsx)(Le.a.Option,{value:"Female",children:"Female"}),Object(M.jsx)(Le.a.Option,{value:"Male",children:"Male"}),Object(M.jsx)(Le.a.Option,{value:"Other",children:"Other"})]})}),Object(M.jsx)(Ae,{}),Object(M.jsx)(Je,{}),Object(M.jsx)(Pe.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(M.jsx)(Ce.a.Password,{})}),Object(M.jsx)(Pe.a.Item,Object(E.a)(Object(E.a)({},dn),{},{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",children:"Register"})}))]}))})})},bn=[{title:"Ticker",dataIndex:"ticker_symbol",render:function(e){return Object(M.jsx)(Se.b,{to:"/asset/".concat(e),style:{marginRight:"8px",marginBottom:"12px"},children:e})}},{title:"Name",dataIndex:"asset_additional",render:function(e){console.log(JSON.parse(e));var t=JSON.parse(e).longName;return t?Object(M.jsx)("div",{children:t}):null}},{title:"Price",dataIndex:"current_price"},{title:"Change",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).regularMarketChange;return t?Object(M.jsx)("div",{children:t.fmt}):null}},{title:"Market Cap",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).marketCap;return t?Object(M.jsx)("div",{children:t.fmt}):null}},{title:"52-Week High",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).fiftyTwoWeekHigh;return t?Object(M.jsx)("div",{children:t.fmt}):null}},{title:"52-Week Low",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).fiftyTwoWeekLow;return t?Object(M.jsx)("div",{children:t.fmt}):null}}],pn=function(e,t){var a=parseFloat(e).toFixed(2);return{props:{style:{color:parseFloat(e)<0?"red":"green"}},children:Object(M.jsx)("span",{children:a})}},hn=[{title:"Investor",dataIndex:"Investor",render:function(e,t){var a=e.username;return e.first_name&&(a=e.first_name,e.last_name&&(a+=" "+e.last_name)),{children:Object(M.jsx)("span",{children:a})}}},{title:"Buying Power",dataIndex:"Buying Power"},{title:"Purchase Cost",dataIndex:"Purchase Cost"},{title:"Current Market",dataIndex:"Current Market"},{title:"Unrealised (Market - Purchase)",dataIndex:"Unrealised",render:pn},{title:"Realised (Sold Value)",dataIndex:"Realised (Sold Value)",render:pn},{title:"Explore",dataIndex:"View Portfolio",render:function(e,t){return e?Object(M.jsx)(Se.b,{to:k+"/"+e,children:"View Portfolio"}):Object(M.jsx)(ee,{children:"Private Portfolio"})}}],mn=function(){var e=le("/api/v1/top_additions"),t=e.data,a=e.isLoading,n=null;if(!a){var r=[t.asset],i=[];[t.portfolio].forEach((function(e,t){i.push({Investor:e.investor,"Buying Power":e.buying_power.toFixed(2),"Current Market":e.current_value_sum.toFixed(2),"Purchase Cost":e.purchase_value_sum.toFixed(2),Unrealised:e.current_value_sum-e.purchase_value_sum,"Realised (Sold Value)":e.realised_sum,"View Portfolio":e.public_portfolio?e.id:0})})),n=Object(M.jsxs)(R.a.Fragment,{children:[Object(M.jsx)($,{children:"Top Asset"}),Object(M.jsx)(pt.a,{columns:bn,dataSource:r,rowKey:"id",pagination:!1,style:{marginBottom:"4rem"}}),Object(M.jsx)($,{children:"Most Viewed Portfolio"}),Object(M.jsx)(pt.a,{columns:hn,dataSource:i,rowKey:"id",pagination:!1})]})}return Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Top Additions"}),a?null:n]})},On=a(210),xn=function(e,t,a,n){var r=!1;return"high"===e&&t<a&&(r=!0),"low"===e&&t>a&&(r=!0),!r||(On.a.info({message:"".concat(n," ").concat(e," alert!"),description:"Value is currently ".concat(a,".")}),!0)},fn=function(e,t,a,n,r,i){var c=function(){var e=Object(N.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=de(),i=r.accessToken,c=r.revalidateAccessToken,s=r.dispatch,o=Object(se.g)();return function(){var e=Object(ne.a)(ae.a.mark((function e(t,r,l){var u;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=oe({accessToken:i,revalidateAccessToken:c,isLoading:a,setIsLoading:n,url:"/api/v1/watchlist/".concat(t,"/").concat(r),method:"PUT",values:{price:l},dispatch:s,routerObject:o}),e.abrupt("return",u);case 5:e.prev=5,e.t0=e.catch(0),re.b.error(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n){return e.apply(this,arguments)}}()}(),s=(Object(se.g)(),function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xn(t.context,t.price,t.current_price,t.asset_id)&&(c(t.asset_id,t.context,t.price),i(r+1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(M.jsxs)(Pe.a,{onFinish:s,children:[Object(M.jsx)(Pe.a.Item,{name:"context",initialValue:t,noStyle:!0,children:Object(M.jsx)(Ce.a,{value:t,type:"hidden"})}),Object(M.jsx)(Pe.a.Item,{name:"asset_id",initialValue:e,noStyle:!0,children:Object(M.jsx)(Ce.a,{value:e,type:"hidden"})}),Object(M.jsx)(Pe.a.Item,{name:"current_price",initialValue:n,noStyle:!0,children:Object(M.jsx)(Ce.a,{value:n,type:"hidden"})}),Object(M.jsx)(Pe.a.Item,{name:"price",initialValue:a,children:Object(M.jsx)(La.a,{value:a})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",children:"Set Notification"})})]})},gn=function(){var e=Object(N.useState)(1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=le("/api/v1/watchlist",a).data,i=(Object(se.g)(),function(){var e=Object(N.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=de(),i=r.accessToken,c=r.revalidateAccessToken,s=r.dispatch,o=Object(se.g)();return function(){var e=Object(ne.a)(ae.a.mark((function e(t){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=oe({accessToken:i,revalidateAccessToken:c,isLoading:a,setIsLoading:n,url:"/api/v1/watchlist/".concat(t),method:"DELETE",dispatch:s,routerObject:o}),e.abrupt("return",r);case 5:e.prev=5,e.t0=e.catch(0),re.b.error(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}()),c=function(){var e=Object(N.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=de(),i=r.accessToken,c=r.revalidateAccessToken,s=r.dispatch,o=Object(se.g)();return function(){var e=Object(ne.a)(ae.a.mark((function e(t){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=oe({accessToken:i,revalidateAccessToken:c,isLoading:a,setIsLoading:n,url:"/api/v1/watchlist/".concat(t),method:"POST",dispatch:s,routerObject:o}),e.abrupt("return",r);case 5:e.prev=5,e.t0=e.catch(0),re.b.error(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}(),s=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.getAttribute("title"),e.next=3,i(r);case 3:n(a+1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t.asset_id.value);case 2:n(a+1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=null;if(r&&!Object(Ie.a)(r)){var u=r.results,d=[];u.forEach((function(e){e.asset.price_high=e.price_high,e.asset.price_low=e.price_low,e.asset.price_high_low=[e.price_high,e.price_low],d.push(e.asset)}));var j=function(e,t,a){return[{title:"Ticker",dataIndex:"ticker_symbol",render:function(e){return Object(M.jsx)(Se.b,{to:"/asset/".concat(e),style:{marginRight:"8px",marginBottom:"12px"},children:e})}},{title:"Name",dataIndex:"asset_additional",render:function(e){console.log(JSON.parse(e));var t=JSON.parse(e).longName;return t?Object(M.jsx)("div",{children:t}):null}},{title:"Price",dataIndex:"current_price"},{title:"Change",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).regularMarketChange;return t?Object(M.jsx)("div",{children:t.fmt}):null}},{title:"Market Cap",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).marketCap;return t?Object(M.jsx)("div",{children:t.fmt}):null}},{title:"52-Week High",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).fiftyTwoWeekHigh;return t?Object(M.jsx)("div",{children:t.fmt}):null}},{title:"52-Week Low",dataIndex:"asset_additional",render:function(e){var t=JSON.parse(e).fiftyTwoWeekLow;return t?Object(M.jsx)("div",{children:t.fmt}):null}},{title:"Notify Low / High",dataIndex:"price_high_low",render:function(e,n){return Object(M.jsxs)(M.Fragment,{children:["Above High:"," ",Object(M.jsx)(Yt.a,{content:fn(n.ticker_symbol,"high",e[0],n.current_price,t,a),title:"Set High",placement:"bottom",trigger:"hover",children:Object(M.jsx)(Yt.a,{content:fn(n.ticker_symbol,"high",e[0],n.current_price,t,a),title:"Set High",placement:"bottom",trigger:"click",children:Object(M.jsx)(we.a,{type:"link",children:e[0]?e[0]:"Change me!"})})}),Object(M.jsx)("br",{}),"Below Low:"," ",Object(M.jsx)(Yt.a,{content:fn(n.ticker_symbol,"low",e[1],n.current_price,t,a),title:"Set Low",placement:"bottom",trigger:"hover",children:Object(M.jsx)(Yt.a,{content:fn(n.ticker_symbol,"low",e[1],n.current_price,t,a),title:"Set Low",placement:"bottom",trigger:"click",children:Object(M.jsx)(we.a,{type:"link",children:e[1]?e[1]:"Change me!"})})})]})}},{title:"Delete",dataIndex:"ticker_symbol",key:"x",render:function(t){return Object(M.jsx)("a",{title:t,onClick:e,children:"Delete"})}}]}(s,a,n);l=Object(M.jsx)(pt.a,{columns:j,dataSource:d,rowKey:"id"})}return Object(Ie.a)(l)?null:Object(M.jsxs)(ut,{children:[Object(M.jsx)(Q,{children:"Watchlist"}),Object(M.jsx)(ge,{title:"Add to Watchlist",children:Object(M.jsxs)(Pe.a,{onFinish:o,children:[Object(M.jsx)(Pe.a.Item,{name:"asset_id",label:"Ticker (EXCHANGE:SYMBOL)",rules:[{required:!0,message:"Please input a ticker!"}],children:Object(M.jsx)(la,{showSearch:!0,style:{width:"100%"}})}),Object(M.jsx)(Pe.a.Item,{children:Object(M.jsx)(we.a,{type:"primary",htmlType:"submit",style:{marginRight:"8px",marginBottom:"12px"},children:"Add"})})]})}),l]},"watchlist-table-"+a)},vn=function(){var e=K().isLoggedIn;return Object(M.jsxs)(se.d,{children:[Object(M.jsx)(se.b,{exact:!0,path:x,render:function(){return e?Object(M.jsx)(se.a,{to:k}):Object(M.jsx)(se.a,{to:T})}}),Object(M.jsx)(se.b,{exact:!0,path:T,component:pa}),Object(M.jsx)(se.b,{exact:!0,path:P,component:xa}),Object(M.jsx)(se.b,{exact:!0,path:C,component:ba}),Object(M.jsx)(se.b,{exact:!0,path:f,component:ga}),Object(M.jsx)(se.b,{exact:!0,path:g,component:ma}),Object(M.jsx)(se.b,{exact:!0,path:v,component:wa}),Object(M.jsx)(se.b,{exact:!0,path:y,component:jn}),Object(M.jsx)(se.b,{exact:!0,path:L,component:mt}),Object(M.jsx)(se.b,{path:f,component:ga}),Object(M.jsx)(se.b,{path:k,component:en}),Object(M.jsx)(se.b,{path:S,component:$t}),Object(M.jsx)(se.b,{path:w,component:dt}),Object(M.jsx)(se.b,{path:_,component:gn}),Object(M.jsx)(se.b,{path:I,component:ln}),Object(M.jsx)(se.b,{path:A,component:mn})]})};var yn=function(){return Object(M.jsx)(ct,{children:Object(M.jsx)("a",{href:"/",children:Object(M.jsx)("img",{src:"/logo.svg",width:"200px"})})})},wn=function(e){e.collapsed;var t=Object(se.h)(),a=function(e){var t=[{name:"Explore",to:T,icon:Object(M.jsx)(ke.g,{})},{name:"Sign Up",to:y,icon:Object(M.jsx)(ke.p,{})},{name:"Log In",to:f,icon:Object(M.jsx)(ke.k,{})}],a=[{name:"Explore",to:T,icon:Object(M.jsx)(ke.g,{})},{name:"Portfolio",to:k,icon:Object(M.jsx)(ke.b,{})},{name:"Account",to:w,icon:Object(M.jsx)(ke.o,{})},{name:"Watchlist",to:_,icon:Object(M.jsx)(ke.m,{})},{name:"Report",to:I,icon:Object(M.jsx)(ke.e,{})}];return e?a:t}(K().isLoggedIn).map((function(e){return Object(M.jsx)(R.a.Fragment,{children:Object(M.jsx)(rt,{icon:e.icon,children:Object(M.jsxs)(Se.b,{to:e.to,children:[e.name," "]})},e.to)})}));return Object(M.jsxs)(it,{defaultSelectedKeys:["/"],selectedKeys:[t.pathname],style:{border:"0"},children:[Object(M.jsx)(yn,{}),a]})},kn=function(e){var t=Object(N.useState)(""),a=Object(h.a)(t,2),n=a[0],r=a[1],i=Object(se.g)();return Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i.push({pathname:L,search:"?q=".concat(n),state:{update:!0}})},style:{display:"inline"},children:[Object(M.jsx)(Ce.a,Object(E.a)(Object(E.a)({placeholder:"Search Asset"},e),{},{onChange:function(e){r(e.target.value)}})),Object(M.jsx)(we.a,{style:{marginLeft:"0.5rem",marginRight:"0.5rem"},htmlType:"submit",children:Object(M.jsx)(ke.j,{})})]})},Sn=function(e){var t=e.children,a=Object(N.useContext)(D).state.isLoggedIn,n=K().dispatch,r=null;return a&&(r=Object(M.jsx)(Qe.a.Item,{icon:Object(M.jsx)(ke.l,{}),children:Object(M.jsx)(Se.b,{onClick:function(){n({type:"LOGOUT"}),re.b.info("You have logged out!")},to:x,children:"Log Out"})})),Object(M.jsxs)(st,{children:[t,Object(M.jsx)(kn,{style:{width:"50%",marginLeft:"3rem"}}),Object(M.jsxs)(Qe.a,{mode:"horizontal",defaultSelectedKeys:["2"],style:{float:"right"},children:[Object(M.jsx)(Qe.a.Item,{},"1"),r]})]})},_n=(a(313),Ze.a.Header,Ze.a.Content,Ze.a.Sider,function(){var e=Object(N.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(M.jsx)(Se.a,{children:Object(M.jsx)(G,{children:Object(M.jsxs)(Ye,{children:[Object(M.jsx)(nt,{trigger:null,collapsible:!0,collapsed:a,theme:"light",children:Object(M.jsx)(wn,{collapsed:a})}),Object(M.jsxs)(Xe,{"data-collapsed":a,children:[Object(M.jsx)(Sn,{children:R.a.createElement(a?m.a:O.a,{className:"trigger",onClick:function(){n(!a)}})}),Object(M.jsx)(vn,{})]})]})})})}),In=(a(314),a(41));a.n(In).a.render(Object(M.jsx)(R.a.StrictMode,{children:Object(M.jsx)(_n,{})}),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.cad65b1f.chunk.js.map